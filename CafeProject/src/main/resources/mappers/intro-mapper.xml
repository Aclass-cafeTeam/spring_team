<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="introMapper">
	
		<resultMap type="IntroBoard" id="introBoard_rm">
			  <id property="boardNo" column="BOARD_NO"/>
				<result property="boardTitle" column="BOARD_TITLE"/>
	      <result property="readCount" column="READ_COUNT"/>
	      <result property="boardDeleteFlag" column="BOARD_DEL_FL"/>
	      <result property="commentCount" column="COMMENT_COUNT"/>
	      <result property="noticeFl" column="NOTICE_FL"/>
	      <result property="commentNo" column="COMMENT_NO"/>
	      <result property="commentDelFl" column="COMMENT_DEL_FL"/>
		</resultMap>
		
		<!-- 전체글조회 -->
		<select id="selectBoardList" parameterType="_int" resultMap="introBoard_rm">
			SELECT BOARD_TITLE, READ_COUNT, NOTICE_FL,
			(SELECT COUNT(*) FROM "COMMENT" C
			WHERE C.BOARD_NO = B.BOARD_NO) COMMENT_COUNT
			FROM "BOARD" B
			WHERE NOT NOTICE_FL = 1
			AND BOARD_DEL_FL = 'N'
			ORDER BY BOARD_NO DESC
		</select>

      
 
 
</mapper>
